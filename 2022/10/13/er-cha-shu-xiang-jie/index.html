<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="二叉树详解, HTML,CSS,JavaScript,Vue,java,linux,Mysql,Redis,SpringMVC,Springboot,SpringCloud,Mycat,Nginx,Tomcat">
    <meta name="description" content="二叉树详解">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>二叉树详解 | 是Beaumon的小博客鸭</title>
    <link rel="icon" type="image/png" href="/favicon.png">
	<link rel="stylesheet" type="text/css" href="/libs/artitalk/artitalk.min.css">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="是Beaumon的小博客鸭" type="application/atom+xml">
</head>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js"

charset="utf-8"></script>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <!-- <span class="logo-span">是Beaumon的小博客鸭</span> -->
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/navigate" class="waves-effect waves-light">
      
      <i class="fas fa-location-arrow" style="zoom: 0.6;"></i>
      
      <span>Navigate</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Medias</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/musics">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Musics</span>
        </a>
      </li>
      
      <li>
        <a href="/movies">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Movies</span>
        </a>
      </li>
      
      <li>
        <a href="/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Books</span>
        </a>
      </li>
      
      <li>
        <a href="/galleries">
          
          <i class="fas fa-image" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Galleries</span>
        </a>
      </li>
      
      <li>
        <a href="/weather">
          
          <i class="fas fa-cloud" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Weather</span>
        </a>
      </li>
      
      <li>
        <a href="/artitalk">
          
          <i class="fas fa-comments" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>说说</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">是Beaumon的小博客鸭</div>
        <div class="logo-desc">
            
            个人博客，记录生活点滴的平台，希望在以后的学习工作中，拥有属于自己的一片广阔天地
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/navigate" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-location-arrow"></i>
			
			Navigate
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Medias
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/musics " style="margin-left:50px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:28px" ></i>
			      
		          <span>Musics</span>
                  </a>
                </li>
              
                <li>

                  <a href="/movies " style="margin-left:50px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:28px" ></i>
			      
		          <span>Movies</span>
                  </a>
                </li>
              
                <li>

                  <a href="/books " style="margin-left:50px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:28px" ></i>
			      
		          <span>Books</span>
                  </a>
                </li>
              
                <li>

                  <a href="/galleries " style="margin-left:50px">
				  
				   <i class="fa fas fa-image" style="position: absolute;left:28px" ></i>
			      
		          <span>Galleries</span>
                  </a>
                </li>
              
                <li>

                  <a href="/weather " style="margin-left:50px">
				  
				   <i class="fa fas fa-cloud" style="position: absolute;left:28px" ></i>
			      
		          <span>Weather</span>
                  </a>
                </li>
              
                <li>

                  <a href="/artitalk " style="margin-left:50px">
				  
				   <i class="fa fas fa-comments" style="position: absolute;left:28px" ></i>
			      
		          <span>说说</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/Beaumon/beaumon.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/Beaumon/beaumon.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>


    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/17.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">二叉树详解</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/">
                                <span class="chip bg-color">二叉树</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-category">
                                数据结构
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-10-13
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-10-13
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    8.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    29 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="一、树的概念和结构"><a href="#一、树的概念和结构" class="headerlink" title="一、树的概念和结构"></a>一、树的概念和结构</h1><h2 id="1-1树的概念"><a href="#1-1树的概念" class="headerlink" title="1.1树的概念"></a>1.1树的概念</h2><p>树是一种非线性的数据结构，它是由n（n&gt;=0）个有限结点组成一个具有层次关系的集合(n=0 时称为空树)。把它叫做树是因为它看起来像一棵倒挂的树，也就是说它是根朝上，而叶朝下的。</p>
<blockquote>
<ul>
<li>有一个特殊的结点，称为根结点，根节点没有前驱结点。</li>
<li>除根节点外，其余结点被分成几个互不相交的集合，每个集合又是一棵结构与树类似的子树。每棵子树的根结点有且只有一个前驱，可以有0个或多个后继。</li>
<li>因此，树是递归定义的。</li>
</ul>
</blockquote>
<p>如下图，A为整个树的根节点。而B，C，D可以看做子树的根节点，在下面分别长出三棵子树。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131556978.png" alt="image-20221013090611615"></p>
<h2 id="1-2树的逻辑结构"><a href="#1-2树的逻辑结构" class="headerlink" title="1.2树的逻辑结构"></a>1.2树的逻辑结构</h2><p>树的逻辑结构表示有：树状表示法，文氏图表示法，凹入表示法和括号表示法。</p>
<h3 id="1-2-1树状表示法"><a href="#1-2-1树状表示法" class="headerlink" title="1.2.1树状表示法"></a>1.2.1树状表示法</h3><p>树是最基本的逻辑结构表示法，使用一棵树倒置表示，非常直观。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131556827.png" alt="image-20221013091243522"></p>
<h3 id="1-2-2文氏图标表示法"><a href="#1-2-2文氏图标表示法" class="headerlink" title="1.2.2文氏图标表示法"></a>1.2.2文氏图标表示法</h3><p>使用集合以及集合包含关系描述树结构。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131556069.png" alt="image-20221013091337123"></p>
<h3 id="1-2-3凹入表示法"><a href="#1-2-3凹入表示法" class="headerlink" title="1.2.3凹入表示法"></a>1.2.3凹入表示法</h3><p>使用线段的伸缩的关系描述树结构。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131556051.png" alt="image-20221013091429524"></p>
<h3 id="1-2-4括号表示法"><a href="#1-2-4括号表示法" class="headerlink" title="1.2.4括号表示法"></a>1.2.4括号表示法</h3><p>将树的根结点写在括号的左边，除根结点之外的其余结点写在括号中，并用逗号分隔。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557408.png" alt="image-20221013091633741"></p>
<h2 id="1-3-树的一些专业术语"><a href="#1-3-树的一些专业术语" class="headerlink" title="1.3 树的一些专业术语"></a>1.3 树的一些专业术语</h2><blockquote>
<p>节点：树的数据元素。<br>叶节点和终端节点：度为零的节点(除根节点外，分支节点也称为内部节点)。<br>终端节点或分支节点：度不为0的节点。<br>双亲结点或父节点：上层的那个节点，也是直接的前驱。如图，C为G的父节点。<br>孩子节点或子节点：下层的节点的子树，也是直接后继。如图，G为C的子节点。<br>兄弟节点：拥有相同父节点(同一双亲下的同一层)的节点称为兄弟节点。<br>堂兄弟节点：双亲位于同一层的节点，但是并非同一个双亲。<br>节点的度：一个节点含有的子节点的个数称为该节点的度，有几个直接的后继就是几个度 ，也称为次数。<br>树的度：一棵树中最大的节点的度称为树的度。<br>树的高度或深度：树中节点的最大层次，如图，高度为4。<br>节点的层次：从根开始定义起，根为第1层，根的子节点为第2层，以此类推。<br>祖先：从跟到该节点所经分支上的所有节点。A是所有节点的祖先。<br>子孙：该节点下层子树中的任意一个节点。<br>森林：由m（m&gt;0）棵互不相交的树的集合称为森林。<br>有序树：节点各个子树从左到右有顺序关系，也称为自由树，不能互换。<br>无序树：与有序树相反，可以互换的。<br>二叉树：每个节点最多含有两个子树的树称为二叉树。<br>完全二叉树：叶节点只能出现在最下层和次下层，并且最下面一层的结点都集中在该层最左边的若干位置的二叉树。</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557646.png" alt="image-20221013091841786"></p>
<h2 id="1-4树的性质"><a href="#1-4树的性质" class="headerlink" title="1.4树的性质"></a>1.4树的性质</h2><pre class="line-numbers language-none"><code class="language-none">性质一：树中结点数等于所有结点的度数加一
根据树的定义,在一棵树中,除根结点以外,每个结点有且仅有一个直接前驱,也就是说,每个结点与指向它的 一个分支一一对应,所以,除根结点以外的结点数等于所有结点的分支数(即度数),而根结点无直接前驱,因此,还要加一。
性质二：度为m的树中第i层上至多有m的（i-1）次方个结点（(m^i-1)i大于等于1）
性质三：高度为h的m次树至多有（m^h）-1除以（m-1）<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="1-5树的表示法"><a href="#1-5树的表示法" class="headerlink" title="1.5树的表示法"></a>1.5树的表示法</h2><p>利用顺序存储和链式存储的特点，完全可以实现对树的存储结构的表示。介绍三种不同的表示法：双亲表示法、孩子表示法、孩子兄弟表示法。</p>
<h3 id="1-5-1双亲表示法"><a href="#1-5-1双亲表示法" class="headerlink" title="1.5.1双亲表示法"></a>1.5.1双亲表示法</h3><p>我们假设以一段连续空间存储树的结点，同时<strong>在每个结点中，附设一个指示器指示其双亲结点到链表中的位置</strong>。也就是说，每个结点除了直到自己是谁外，还要直到自己的双亲在哪里。就像</p>
<table>
<thead>
<tr>
<th>data</th>
<th>parent</th>
</tr>
</thead>
</table>
<p>其中data就是数据域，存储结点的信息。而parent是指针域，存储该结点的双亲在数组中的下标。<br>双亲表示法的结点结构定义代码：</p>
<pre class="line-numbers language-none"><code class="language-none">//树的双亲表示法结点结构定义
#define MAX_TREE_SIZE 100
typedef int TElemType;   //树结点的数据类型，目前暂定整形
typedef struct PTNode{    //结点结构
TElemType   data;  //结点数据域
	int parent;              //双亲位置
}PTNode;
typedef struct{              //树结构
	PTNode nodes[MAX_TREE_SIZE];    //结点数组
	int  r,n;                     //根节点的位置和结点数
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有了这样的结构定义，我们就可以实现双亲定义法了。由于跟结点没有双亲，所以我们约定根结点的位置域设置为-1，这就意味着，我们所有结点都直到他双亲的位置。如图为树结构和双亲表示法的图表。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557333.png" alt="image-20221013092815824"></p>
<p>我们可以通过上面快速的找到结点的双亲。但是我们要知道结点的孩子只有遍历整个结构了。</p>
<h3 id="1-5-2孩子表示法"><a href="#1-5-2孩子表示法" class="headerlink" title="1.5.2孩子表示法"></a>1.5.2孩子表示法</h3><p>换一种完全不同的想法。由于树中每个结点可能有很多的子树，可以考虑用多重链表，即<strong>每一个结点有多个指针域，其中每个指针指向一个子树的根节点，我们把这种方法叫做多重链表表示法</strong>。不过，树的每个结点的度，也就是它孩子个数是不同的。所以可以设计两种方案来解决。</p>
<ul>
<li>方案一</li>
</ul>
<p>指针域的个数等于树的度。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557326.png" alt="image-20221013093016781"></p>
<p>如图，data就是数据域，child1····是指针域，用来指向该结点的孩子结点。</p>
<p>以1.5.1中的树结构为例来实现。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557766.png" alt="image-20221013093240974"></p>
<p>我们可以看到。^这个符号就是代表当前这个指针域并没有用到。这样如果树的各结点的度差距过大的话，显然非常浪费空间。按需分配空间显然更好，这样就有第二种方案了。</p>
<ul>
<li>方案二</li>
</ul>
<p>每个结点指针域的个数等于该结点的度，我们专门来取一个位置来存储结点指针域的个数。如图。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131557659.png" alt="image-20221013093415543"></p>
<p>如图，data就是数据域。degree是度域，也就是存在该结点的孩子结点数。child1····是指针域，用来指向该结点的孩子结点。</p>
<p>那么对应的树图就应该是这样。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558182.png" alt="image-20221013093532615"></p>
<p>显然，方案二克服了浪费空间的缺点，但是由于各个结点的链表结构是不相同的，在加上要维护结点的度的数值，在运算上显然有损耗。<br>能否有更好的方法？既可以减少浪费，又能使结点结构相同。</p>
<p>我们把每一个结点放入顺序存储结构中是合理的，但是每个结点的孩子多少是不确定的，所以我们再对每个结点的孩子建立一个单链表来体现他们的关系。这就是我们的<strong>孩子表示法</strong>。</p>
<p>具体办法：<strong>把每个结点的孩子排列起来，以单链表作存储结构，则n个结点有n个孩子链表，如果是叶子结点则此单链表为空。然后n个头指针有组成一个线性表，采用顺序存储结构，存进一个一维数组</strong>。如图。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558294.png" alt="image-20221013093648966"></p>
<p>为此，设计两种结构，一个是孩子链表的孩子结点。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558331.png" alt="image-20221013093730770"></p>
<p>child是数据域，存储某个结点在表头数组中的下标。next是指针域，用来存储某结点的下一孩子结点的指针。</p>
<p>另一个是表头数组的表头结点。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558439.png" alt="image-20221013093803483"></p>
<p>data是数据域，存储某结点的数据信息。firstchild是头指针域，存储该节点的孩子链表的头指针。</p>
<p>以下是孩子表示法的结构定义代码。</p>
<pre class="line-numbers language-none"><code class="language-none">//树的孩子表示法结点结构定义
#define MAX_TREE_SIZE 100
typedef int TElemType;   //树结点的数据类型，目前暂定整形
typedef struct CTNode{      //孩子结点
	int child;          
	struct CTNode * next;              
}*ChildPtr;
typedef struct{              //表头结构
	TElemType data;
	ChildPtr firstchild;                    
}CTBox;
typedef struct{              //树结构
	CTBox nodes[MAX_TREE_SIZE];    //结点数组
	int  r,n;                     //根节点的位置和结点数
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们可以改进一下。把双亲表示法和孩子表示法综合一下，加一个双亲域。如图。（双亲孩子表示法）</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558280.png" alt="image-20221013093942008"></p>
<h3 id="1-5-3孩子兄弟表示法"><a href="#1-5-3孩子兄弟表示法" class="headerlink" title="1.5.3孩子兄弟表示法"></a>1.5.3孩子兄弟表示法</h3><p><strong>任何一棵树，它的结点的第一个孩子如果是唯一的，它的右兄弟如果存在也是唯一的，因此，我们设置两个指针，分别指向该结点的第一个孩子和此结点的右兄弟。</strong></p>
<p>结点结构如图。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558218.png" alt="image-20221013094030339"></p>
<p>data是数据域，firstchild为指针域，存储第一个孩子结点的地址，rightsib是指针域，存储该结点的右兄弟的地址。</p>
<p>结构定义代码如下.</p>
<pre class="line-numbers language-none"><code class="language-none">//树的孩子兄弟表示法结构定义
typedef struct CSNode{
	TElemType data;
	struct CSNode *firstchild，*rightsib；
}CSNode，*CSTree;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>仍然以1.5.1的树为例，这种方法实现的示意图如图。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558470.png" alt="image-20221013094149781"></p>
<p>这种方法给查找某结点的某个孩子带来了方便，只需要通过firstchild 找到此结点的左儿子，然后再通过左儿子找到二弟，一直下去，知道找到具体的孩子。当然，如果想要找到双亲，完全可以增加一个parent 指针域来解决。</p>
<h1 id="二、二叉树概念及结构"><a href="#二、二叉树概念及结构" class="headerlink" title="二、二叉树概念及结构"></a>二、二叉树概念及结构</h1><h2 id="2-1二叉树的概念"><a href="#2-1二叉树的概念" class="headerlink" title="2.1二叉树的概念"></a>2.1二叉树的概念</h2><p>一棵二叉树是结点的一个有限集合，该集合或者为空，或者是由一个根节点加上两棵别称为左子树和右子树的二叉树组成。</p>
<blockquote>
<p>二叉树的特点：<br>1、每个节点最多有两棵子树，即不存在超过度大于2的结点。<br>2、二叉树的子树有左右之分，次序不能任意颠倒。<br>3、树中某结点只有一棵子树，也要区分它是左子树还是右子树。</p>
</blockquote>
<p>现实中的二叉树：</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131558178.png" alt="image-20221013094551719"></p>
<h2 id="2-2几种特殊的二叉树"><a href="#2-2几种特殊的二叉树" class="headerlink" title="2.2几种特殊的二叉树"></a>2.2几种特殊的二叉树</h2><h3 id="2-2-1二叉排序树"><a href="#2-2-1二叉排序树" class="headerlink" title="2.2.1二叉排序树"></a>2.2.1二叉排序树</h3><p>二叉排序树，又称二叉查找树、二叉搜索树、B树。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131559621.png" alt="image-20221013094932892"></p>
<blockquote>
<p>二叉排序树是具有<strong>下列性质</strong>的二叉树：</p>
<ul>
<li>若左子树不空，则左子树上所有结点的值均小于它的根结点的值；</li>
<li>若右子树不空，则右子树上所有结点的值均大于或等于它的根结点的值；</li>
<li>左、右子树也分别为二叉排序树。</li>
</ul>
</blockquote>
<p>也就是说，二叉排序树中，左子树都比节点小，右子树都比节点大，<strong>递归定义。</strong></p>
<p><strong>重要结论：</strong> 根据二叉排序树这个特点我们可以知道，<strong>二叉排序树的中序遍历一定是从小到大的</strong>。</p>
<blockquote>
<p>根据二叉排序树的定义，我们可以知道在查找某个元素时：</p>
<p>先比较它与根节点，相等就返回；或者根节点为空，说明树为空，也返回；<br>如果它比根节点小，就从根的左子树里进行递归查找；<br>如果它比根节点大，就从根的右子树里进行递归查找。<br>这就是一个简单的二分查找。只不过和二分查找还是有些不同的地方的。</p>
</blockquote>
<h3 id="2-2-2平衡二叉树"><a href="#2-2-2平衡二叉树" class="headerlink" title="2.2.2平衡二叉树"></a>2.2.2平衡二叉树</h3><p>平衡二叉树，又称AVL树，用于解决二叉排序树高度不确定的情况，如果二叉排序树的子树间的高度相差太大，就会让二叉排序树操作的时间复杂度升级为O(n)，为了避免这一情况，为最坏的情况做准备，就出现了平衡二叉树，使树的高度尽可能的小，其本质还是一棵二叉搜索树。</p>
<blockquote>
<p>平衡二叉树的<strong>性质</strong>：</p>
<ul>
<li>左子树和右子树的高度之差的<strong>绝对值小于等于1</strong></li>
<li><strong>左子树和右子树也是平衡二叉树</strong></li>
</ul>
</blockquote>
<p>为了方便起见，给树上的每个结点附加一个数字，给出该结点左子树与右子树的高度差，这个数字称为结点的<strong>平衡因子</strong>（BF），平衡因子=结点左子树的高度-结点右子树的高度。</p>
<p>因此平衡二叉树所有结点的平衡因子只能是-1、0、1,例如：</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623046.png" alt="image-20221013095547630"></p>
<h3 id="2-2-3B树类型"><a href="#2-2-3B树类型" class="headerlink" title="2.2.3B树类型"></a>2.2.3B树类型</h3><h4 id="2-2-3-1B树（B-树、B-树）"><a href="#2-2-3-1B树（B-树、B-树）" class="headerlink" title="2.2.3.1B树（B-树、B_树）"></a>2.2.3.1B树（B-树、B_树）</h4><p>一种平衡的<code>多叉树</code>，称为<code>B树</code>（或<code>B-树</code>、<code>B_树</code>，<code>B：balanced</code>说明B树和平衡树有关系）。</p>
<pre class="line-numbers language-none"><code class="language-none">一棵m阶B树是一棵平衡的m路搜索树，它或者是空树，或者是满足下列性质的树：
1.树中每个结点至多有m棵子树。(即至多含有m-1个关键字，两颗子树指针夹着一个关键字)；
2.若根结点不是终端结点，则至少有两颗子树。(至少一个关键字)；
3.除根结点外的所有非叶子结点至少有[m/2]棵子树。(即至少含有[m/2]-1个关键字)；
4.所有的叶子结点出现在同一个层次上，不带信息。(就像是折半查找判断树中查找失败的结点)。
5.每一个结点中的关键字满足从左到右依次增大的规则。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>简单理解为：平衡多路查找树为B树（每一个子节点上都是有数据的），叶子节点之间无指针相邻，它的出现就是为了减少磁盘IO操作，思想是降低树的高度，从==“瘦高”–&gt;“矮胖”==。</p>
<p>B树的搜索，从根结点开始，如果查询的关键字与结点的关键字相等，那么就命中；否则，如果查询关键字比结点关键字小，就进入左儿子；如果比结点关键字大，就进入右儿子；如果左儿子或右儿子的指针为空，则报告找不到相应的关键字；重复，直到所对应的儿子指针为空，或已经是叶子结点</p>
<p>如果B树的所有非叶子结点的左右子树的结点数目均保持差不多（平衡），那么B树的搜索性能逼近二分查找；但它比连续内存空间的二分查找的优点是，改变B树结构（插入与删除结点）不需要移动大段的内存数据，甚至通常是常数开销；但B树在经过多次插入与删除后，有可能导致不同的结构。</p>
<pre class="line-numbers language-none"><code class="language-none">B-树的特性：
1. 关键字集合分布在整颗树中；
2. 任何一个关键字出现且只出现在一个结点中；
3. 搜索有可能在非叶子结点结束；
4. 其搜索性能等价于在关键字全集内做一次二分查找；
5. 自动层次控制；
优点：由于m阶B树每个结点最少m/2个结点的限制，是为了最大限度的减少查找路径的长度，提供查找效率
缺点：不便于范围查询<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-2-3-2B-树"><a href="#2-2-3-2B-树" class="headerlink" title="2.2.3.2B+树"></a>2.2.3.2B+树</h4><p>B+树是B树的一种变形形式，B+树上的叶子结点存储关键字以及相应记录的地址，叶子结点以上各层作为索引使用，数据对象的插入和删除仅在叶子节点上进行。</p>
<pre class="line-numbers language-none"><code class="language-none">一个m阶的B+树具有如下几个特征:
1.有k个子树的中间节点包含有k个元素（B树中是k-1个元素），每个元素不保存数据，只用来保存数据的索引，所有数据都保存在叶子节点。
2.所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。
3.所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>通常用于数据库和操作系统的文件系统中。B+ 树的特点是能够保持数据稳定有序，其插入与修改拥有较稳定的对数时间复杂度。<br>它比 B 树的查询性能更高。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623485.png" alt="image-20221013095825718"></p>
<p>从图片可以看出，叶子结点用指针连在一起，每一个父节点的元素都出现在子节点中，是子节点的最大（或最小)元素。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623517.png" alt="image-20221013095854634"></p>
<p>在上面这棵树中，根节点元素8是子节点2,5,8的最大元素，也是叶子节点6,8的最大元素。<br>需要注意的是，根节点的最大元素（这里是15)，也就等同于整个B+树的最大元素。以后无论插入删除多少元素，始终要保持最大元素在根节点当中。</p>
<p>至于叶子节点，由于父节点的元素都出现在子节点，因此所有叶子节点包含了全量元素信息。并且每一个叶子节点都带有指向下一个节点的指针，形成了一个有序链表。</p>
<pre class="line-numbers language-none"><code class="language-none">总结：
B+树的三个特点：
1.关键字数和子树相同
2.非叶子节点仅用作索引，它的关键字和子节点有重复元素
3.叶子节点用指针连在一起
第一点，在 B 树中，节点的关键字用于在查询时确定查询区间，因此关键字数比子树数少一；而在 B+ 树中，节点的关键字代表子树的最大值，因此关键字数等于子树数。
第二点，除叶子节点外的所有节点的关键字，都在它的下一级子树中同样存在，最后所有数据都存储在叶子节点中。
根节点的最大关键字其实就表示整个 B+ 树的最大元素。
第三点，叶子节点包含了全部的数据，并且按顺序排列，B+ 树使用一个链表将它们排列起来，这样在查询时效率更快。
由于 B+ 树的中间节点不含有实际数据，只有子树的最大数据和子树指针，因此磁盘页中可以容纳更多节点元素，也就是说同样数据情况下，B+ 树会 B 树更加“矮胖”，因此查询效率更快。B+ 树的查找必会查到叶子节点，更加稳定。
当需要查询某个范围内的数据时，由于 B+ 树的叶子节点是一个有序链表，只需在叶子节点上遍历即可，不用像 B 树那样挨个中序遍历比较大小。
因此，得出B+树的三个优点
1.层级更低，IO 次数更少
2.每次都需要查询到叶子节点，查询性能稳定
3.叶子节点形成有序链表，范围查询方便
B树也有优点，其优点在于，由于B树的每一个节点都包含key和value，因此经常访问的元素可能离根节点更近，因此访问也更迅速。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-2-3-3B-树"><a href="#2-2-3-3B-树" class="headerlink" title="2.2.3.3B*树"></a>2.2.3.3B*树</h4><p><code>B*树</code>是<code>B+树</code>的变体，在<code>B+树</code>的非根和非叶子结点再增加指向兄弟的指针；<br><code>B*树</code>定义了非叶子结点关键字个数至少为<code>(2/3)*M</code>，即块的最低使用率为<code>2/3</code>(代替B+树的1/2)；</p>
<p><code>B+树</code>的分裂：当一个结点满时，分配一个新的结点，并将原结点中1/2的数据复制到新结点，最后在父结点中增加新结点的指针；<code>B+树</code>的分裂只影响原结点和父结点，而不会影响兄弟结点，所以它不需要指向兄弟的指针；</p>
<p><code>B*树</code>的分裂：当一个结点满时，如果它的下一个兄弟结点未满，那么将一部分数据移到兄弟结点中，再在原结点插入关键字，最后修改父结点中兄弟结点的关键字（因为兄弟结点的关键字范围改变了）；如果兄弟也满了，则在原结点与兄弟结点之间增加新结点，并各复制1/3的数据到新结点，最后在父结点增加新结点的指针；所以，<code>B*树</code>分配新结点的概率比<code>B+树</code>要低，空间使用率更高</p>
<pre class="line-numbers language-none"><code class="language-none">B树类型总结：
1.二叉搜索树：二叉树，每个结点只存储一个关键字，等于则命中，小于走左结点，大于走右结点；
2.B树(B-树)：多路搜索树，每个结点存储M/2到M（M是指M阶B树）个关键字，非叶子结点存储指向关键字范围的子结点；所有关键字在整颗树中出现，且只出现一次，非叶子结点可以命中；
3.B+树：在B-树基础上，为叶子结点增加链表指针，所有关键字都在叶子结点中出现，非叶子结点作为叶子结点的索引；B+树总是到叶子结点才命中；
4.B*树：在B+树基础上，为非叶子结点也增加链表指针，将结点的最低利用率从1/2提高到2/3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="2-2-4红黑树"><a href="#2-2-4红黑树" class="headerlink" title="2.2.4红黑树"></a>2.2.4红黑树</h3><p>解决二叉查找树多次插入新节点而导致的不平衡问题。</p>
<pre class="line-numbers language-none"><code class="language-none">红黑树(Red Black Tree)是一种自平衡的二叉查找树。除了符合二叉查找树的基本特性外，它还具有下列的【附加特性】:
1.节点是红色或黑色。
2.根节点是黑色。
3.每个叶子节点都是黑色的空节点（NIL节点）。
4 每个红色节点的两个子节点都是黑色。(从每个叶子到根的所有路径上不能有两个连续的红色节点)
5.从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623225.png" alt="image-20221013100449122"></p>
<p>正是因为这些规则限制，才保证了红黑树的自平衡。红黑树从根到叶子的最长路径不会超过最短路径的2倍。当插入或删除节点的时候，红黑树的规则有可能被打破。这时候就需要做出一些调整，来继续维持我们的规则。</p>
<p><strong>什么情况下会破坏红黑树的规则，什么情况下不会破坏规则呢？我们举两个简单的例子：</strong></p>
<p>1.向原红黑树插入值为14的新节点：</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623082.png" alt="image-20221013100539800"></p>
<p>由于父节点15是黑色节点，因此这种情况并不会破坏红黑树的规则，无需做任何调整。</p>
<p>2.向原红黑树插入值为21的新节点：</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131623038.png" alt="image-20221013100612095"></p>
<p>由于父节点22是红色节点，因此这种情况打破了红黑树的规则4（每个红色节点的两个子节点都是黑色），必须进行调整，使之重新符合红黑树的规则。<strong>调整有两种方法:变色和旋转</strong>。而旋转又分成两种形式:左旋转和右旋转。</p>
<blockquote>
<p><strong>变色：</strong><br>为了重新符合红黑树的规则，尝试把红色节点变为黑色，或者把黑色节点变为红色。</p>
</blockquote>
<p>下图所表示的是红黑树的一部分，需要注意节点25并非根节点。因为节点21和节点22连续出现了红色，不符合规则4，所以把节点22从红色变成黑色</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624189.png" alt="image-20221013100831536"></p>
<p>但这样并不算完，因为凭空多出的黑色节点打破了规则5，所以发生连锁反应，需要继续把节点25从黑色变成红色。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624037.png" alt="image-20221013100944398"></p>
<p>此时仍然没有结束，因为节点25和节点27又形成了两个连续的红色节点，需要继续把节点27从红色变成黑色。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624547.png" alt="image-20221013101036833"></p>
<blockquote>
<p><strong>左旋转：</strong><br><strong>逆时针</strong>旋转红黑树的两个节点，使得父节点被自己的右孩子取代，而自己成为自己的左孩子。</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624595.png" alt="image-20221013101132112"></p>
<p>图中，身为右孩子的Y取代了X的位置，而X变成了自己的左孩子。此为左旋转。</p>
<blockquote>
<p><strong>右旋转：</strong><br><strong>顺时针</strong>旋转红黑树的两个节点，使得父节点被自己的左孩子取代，而自己成为自己的右孩子</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624991.png" alt="image-20221013101408548"></p>
<p>图中，身为左孩子的Y取代了X的位置，而X变成了自己的右孩子。此为右旋转。</p>
<p>以刚才所举的例子,首先，我们需要做的是变色，把节点25及其下方的节点变色</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624681.png" alt="image-20221013101543854"></p>
<p>此时节点17和节点25是连续的两个红色节点，为了维持红黑树的规则，我们把节点8和节点17进行变色，由红色节点编程黑色节点。这样以来就形成了新的红黑树。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131624622.png" alt="image-20221013101634753"></p>
<pre class="line-numbers language-none"><code class="language-none">**红黑树和AVL树区别
RB-Tree和AVL树作为二叉搜索树(BBST)，其实现的算法时间复杂度相同，AVL作为最先提出的BBST，貌似RB-tree实现的功能都可以用AVL树是代替，那么为什么还需要引入RB-Tree呢？
1.红黑树不追求完全平衡，即不像AVL那样要求节点的 高度差的绝对值 &lt;= 1，它只要求部分达到平衡，但是提出了为节点增加颜色，红黑是用非严格的平衡来换取增删节点时候旋转次数的降低，任何不平衡都会在三次旋转之内解决，而AVL是严格平衡树，因此在增加或者删除节点的时候，根据不同情况，旋转的次数比红黑树要多。
2.就插入节点导致树失衡的情况，AVL和RB-Tree都是最多两次树旋转来实现复衡rebalance，旋转的量级是O(1)。
3.删除节点导致失衡，AVL需要维护从被删除节点到根节点root这条路径上所有节点的平衡，旋转的量级为O(logN)，而RB-Tree最多只需要旋转3次实现复衡，只需O(1)，所以说RB-Tree删除节点的rebalance的效率更高，开销更小。
4.AVL的结构相较于RB-Tree更为平衡，插入和删除引起失衡，RB-Tree复衡效率更高；当然，由于AVL高度平衡，因此AVL的Search效率更高。
5.针对插入和删除节点导致失衡后的rebalance操作，红黑树能够提供一个比较便宜的解决方案，降低开销，是对search，insert ，以及delete效率的折衷，总体来说，RB-Tree的统计性能高于AVL，故引入RB-Tree是功能、性能、空间开销的折中结果。
6.AVL更平衡，结构上更加直观，时间效能针对读取而言更高；维护稍慢，空间开销较大。红黑树，读取略逊于AVL，维护强于AVL，空间开销与AVL类似，内容极多时略优于AVL，维护优于AVL。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>总结：实际应用中，若搜索的次数远远大于插入和删除，那么选择<code>AVL</code>，如果搜索，插入删除次数几乎差不多，应该选择<code>RB-Tree</code>。</p>
<h3 id="2-2-5堆"><a href="#2-2-5堆" class="headerlink" title="2.2.5堆"></a>2.2.5堆</h3><p>这里我们所说的堆是一种数据结构，和操作系统内存管理中的堆是两回事。</p>
<p>普通的二叉树不适合用数组来存储，因为可能会存在大量的空间浪费，<strong>只有完全二叉树适合使用顺序存储结构</strong>。</p>
<pre class="line-numbers language-none"><code class="language-none">堆的概念：
将一个集合K = {k0，k1， k2，…，kn-1}，把所有元素都按照完全二叉树的顺序存储方式来存储，并且满足每个子树的根结点数值都大于等于（或小于等于）他们各自的子结点数值，这样的结构就叫堆。将根节点最大的堆叫大堆，根节点最小的堆叫小堆。
堆的性质：
1.堆中某个节点的值总是不大于或不小于其父节点的值。
2.堆总是一棵完全二叉树。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131625275.png" alt="image-20221013105913742"></p>
<h3 id="2-2-6完全二叉树"><a href="#2-2-6完全二叉树" class="headerlink" title="2.2.6完全二叉树"></a>2.2.6完全二叉树</h3><p>完全二叉树：除最后一层外，每一层上的结点数均达到最大值；在最后一层上只缺少右边的若干结点</p>
<pre class="line-numbers language-none"><code class="language-none">完全二叉树特点：
1.叶子结点只能出现在最下层和次下层。
2.最下层的叶子结点集中在树的左部。
3.倒数第二层若存在叶子结点，一定在右部连续位置。
4.如果结点度为1，则该结点只有左孩子，即没有右子树。
5.同样结点数目的二叉树，完全二叉树深度最小。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="2-2-7满二叉树"><a href="#2-2-7满二叉树" class="headerlink" title="2.2.7满二叉树"></a>2.2.7满二叉树</h3><p>除最后一层无任何子节点外，每一层上的所有结点都有两个子结点的二叉树。</p>
<pre class="line-numbers language-none"><code class="language-none">满二叉树特点：
1.叶子只能出现在最下一层。出现在其它层就不可能达成平衡。
2.非叶子结点的度(结点拥有的子树数目称为结点的度)一定是2
3.在同样深度的二叉树中，满二叉树的结点个数最多，叶子数最多<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="2-3二叉树存储结构"><a href="#2-3二叉树存储结构" class="headerlink" title="2.3二叉树存储结构"></a>2.3二叉树存储结构</h2><h3 id="2-3-1顺序存储结构"><a href="#2-3-1顺序存储结构" class="headerlink" title="2.3.1顺序存储结构"></a>2.3.1顺序存储结构</h3><p>顺序存储结构实际就是用数组来存储，只适合<strong>完全二叉树</strong>，不适合一般的二叉树，因为不是完全二叉树会有空间的浪费。二叉树顺序存储结构<strong>在物理上是一个数组，在逻辑上是一颗二叉树</strong>。</p>
<h3 id="2-3-2链式存储结构"><a href="#2-3-2链式存储结构" class="headerlink" title="2.3.2链式存储结构"></a>2.3.2链式存储结构</h3><p>二叉树的链式存储结构是值，用链表来表示一颗二叉树，即用链来表示元素的逻辑关系。通常的方法是链表中每个节点由<strong>三个域组成</strong>，<strong>数据域和左右指针域</strong>，<strong>左右指针分别用来给出该结点左孩子和右孩子</strong>所在的链接点的存储地址。</p>
<h4 id="2-3-2-1建二叉树"><a href="#2-3-2-1建二叉树" class="headerlink" title="2.3.2.1建二叉树"></a>2.3.2.1建二叉树</h4><p>想要创建一棵二叉树，我们首先要建一个二叉树节点。</p>
<pre class="line-numbers language-none"><code class="language-none">typedef int BTDataType;
typedef struct BinaryTreeNode
{
	struct BinaryTreeNode* left;
	struct BinaryTreeNode* right;
	BTDataType data;
}BTNode;
 
//创建一个节点
BTNode* BuyNode(BTDataType x)
{
	BTNode* node = (BTNode*)malloc(sizeof(BTNode));
	assert(node);
 
	node-&gt;data = x;
	node-&gt;left = NULL;
	node-&gt;right = NULL;
 
	return node;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有了节点之后，我们就可以用n个节点来拼成一棵树。这里采用前序遍历的思想，往下递归时先把节点的值填充，等返回时节点和节点就会连到一起。</p>
<pre class="line-numbers language-none"><code class="language-none">// 通过前序遍历的数组构建二叉树,0代表空指针
BTNode* CreatBinaryTree(BTDataType* arr,int* pi)
{
	if (arr[*pi] == 0)
	{
		(*pi)++;
		return NULL;
	}
	BTNode* root = BuyNode(arr[*pi]);
	(*pi)++;
	root-&gt;left = CreatBinaryTree(arr, pi);
	root-&gt;right = CreatBinaryTree(arr, pi);
	return root;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-2-2二叉树的遍历"><a href="#2-3-2-2二叉树的遍历" class="headerlink" title="2.3.2.2二叉树的遍历"></a>2.3.2.2二叉树的遍历</h4><p>遍历的概念：遍历是<strong>按照某种规则</strong>，对二叉树中的结点进行某种相应的操作，且每个结点只操作一次。</p>
<blockquote>
<p>前序、中序以及后序遍历</p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">这三种遍历都是深度优先。遵循的顺序如下：
1.前序遍历——访问根结点的操作发生在遍历其左右子树之前。
2.中序遍历——访问根结点的操作发生在遍历其左右子树之中。
3.后序遍历——访问根结点的操作发生在遍历其左右子树之后。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>以前序遍历为例:</p>
<pre class="line-numbers language-none"><code class="language-none">//前序遍历
void pre_order(BTNode* root)
{
	if (root == NULL)
	{
		printf("%c ", '#');
		return;
	}
	printf("%d ", root-&gt;data);
	pre_order(root-&gt;left);
	pre_order(root-&gt;right);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>层序遍历</p>
</blockquote>
<p>层序遍历，顾名思义，就是一层一层的遍历。这里我们要借助队列。</p>
<p><img src="https://raw.githubusercontent.com/beaumon/cloud-picture/master/img/202210131625039.png" alt="image-20221013111000500"></p>
<p>以这棵树为例，我们想要层序遍历。先把1放入队列中。然后开始循环下列操作：取队头的节点并删除掉，在删除的同时把队头节点的左右子节点放到队列中。这样把第一层的节点取完后第二层就会放到队列中，第二层节点取完后第三层的节点就会被放到队列中，循环此操作，实现层序遍历。</p>
<p>代码如下：</p>
<pre class="line-numbers language-none"><code class="language-none">//层序遍历
void level_order(BTNode* root)
{
	Queue q;
	QueueInit(&amp;q);
	if (root)
	{
		QueuePush(&amp;q, root);
	}
	BTNode* front;
	while (!QueueEmpty(&amp;q))
	{
		front = QueueFront(&amp;q);
		printf("%d", front-&gt;data);
		QueuePob(&amp;q);
		if (front-&gt;left)
		{
			QueuePush(&amp;q, front-&gt;left);
		}
 
		if (front-&gt;right)
		{
			QueuePush(&amp;q, front-&gt;right);
		}
	}
	printf("\n");
	QueueDestory(&amp;q);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="2-3-2-3二叉树的销毁"><a href="#2-3-2-3二叉树的销毁" class="headerlink" title="2.3.2.3二叉树的销毁"></a>2.3.2.3二叉树的销毁</h4><p>二叉树的遍历要采用后续遍历，不然父节点销毁后会找不到子节点。</p>
<pre class="line-numbers language-none"><code class="language-none">void tree_destory(BTNode* root)
{
	if (root == NULL)
	{
		return;
	}
	//要采用后序遍历，不然父节点销毁了就找不到子节点了
	tree_destory(root-&gt;left);
	tree_destory(root-&gt;right);
	free(root);
 
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Beaumon</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://beaumon.github.io/2022/10/13/er-cha-shu-xiang-jie/">https://beaumon.github.io/2022/10/13/er-cha-shu-xiang-jie/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Beaumon</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/">
                                    <span class="chip bg-color">二叉树</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '370fc4148189dfbed562',
        clientSecret: 'bbd3b7a6cfe0cd52714100b7641b7053e5c161c4',
        repo: 'beaumon.github.io',
        owner: 'Beaumon',
        admin: ["Beaumon"],
        id: '2022-10-13T08-43-08',
		distractionFreeMode: 'true',
		proxy: 'https://gitalkreslove.introduce.workers.dev/?https://github.com/login/oauth/access_token'
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/03/04/ruan-kao-bi-ji/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="软考笔记">
                        
                        <span class="card-title">软考笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            软考笔记
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-03-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Beaumon
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%BD%AF%E8%80%83%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">软考笔记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/09/22/fen-bu-shi-xi-tong-yu-dao-de-shi-ge-wen-ti/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="分布式系统遇到的十个问题">
                        
                        <span class="card-title">分布式系统遇到的十个问题</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            分布式系统遇到的十个问题
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-09-22
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/java/" class="post-category">
                                    java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">
                        <span class="chip bg-color">分布式</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <a href="/about" target="_blank">Beaumon</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/Beaumon/beaumon.github.io" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">77.2k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "8";
                        var startDate = "20";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/Beaumon/" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:setrcbratin@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2506411404" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2506411404" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>





    <a href="https://www.zhihu.com/people/loser-13-29-69" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/loser-13-29-69" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



    <a href="https://blog.csdn.net/weixin_44834205?spm=1000.2115.3001.5343" class="tooltipped" target="_blank" data-tooltip="关注我的csdn: https://blog.csdn.net/weixin_44834205?spm=1000.2115.3001.5343" data-position="top" data-delay="50">
        <i class="fab fa-maxcdn"></i>
    </a>



    <a href="https://space.bilibili.com/690268778?spm_id_from=333.1007.0.0" class="tooltipped" target="_blank" data-tooltip="关注我的bilibili" " data-position="top" data-delay="50">
        <i class="fas fa-play-circle"></i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/star.js"><\/script>');
            }
        </script>
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async="async" src="/libs/others/busuanzi.pure.mini.js"></script>

    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":50,"vOffset":-5},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>

</html>
